<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        <h:outputStylesheet library="css" name="recruiterPage-style.css"  />
        <h:outputStylesheet library="css" name="recruitTable.css"  />        
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"/>
        <noscript>Sorry, your browser does not support JavaScript!</noscript>
        <style type ="text/css"/>
    </h:head>
    <h:body> 
        <div id="wrap">
            <div id="bar">
                <div id="content">
                    <p class="tag"> Recruiter Login Page</p>
                    <ul class="nav">
                        <li class="ico">
                            <h:form>
                                <h:commandLink action="#{recruiterManager.logout()}">Logout </h:commandLink>
                            </h:form>
                        </li>   
                    </ul>
                </div>
            </div>
            <div>
                <h2>Applicant Table</h2>
            </div>
            <fieldset>                
                <h:form>
                <legend>Filter Options</legend>
                <h3>Name</h3>
                <label for="firstname">First name</label>
                <h:inputText id="firstname" value="#{recruiterManager.firstName}" />
                <label for="lastname">Last name</label>
                <h:inputText id="lastname" value="#{recruiterManager.lastName}"/>
                <h3>Time Period</h3>
                <label for="from">From</label>
                <h:inputText id="from" value="#{recruiterManager.fromDate}" />
                <label for="to">To</label>
                <h:inputText id="to" value="#{recruiterManager.toDate}"/>
                
                <br></br>
                <label for="competence"><h3>Competence</h3></label>
                
                <h:inputText id="competence" value="#{recruiterManager.area}"/>
                 <h:commandButton id="commit" value="Commit" action="#{recruiterManager.commit()}"/>
                <br></br>    
   
            <div class="CSSTableGenerator" >
                <table >
                    <tr>
                        <td>
                            Name
                        </td>
                        <td >
                            Last Name
                        </td>
                        <td>
                            E-mail
                        </td>
                       
                         <td>
                            Competences
                        </td>
                        <td>
                            Time Periods
                        </td>
                    </tr>
                    <ui:repeat var="item" value="#{recruiterManager.filterList}">
                        <tr>
                            <td>#{item.person.name}</td>
                            <td>#{item.person.surname}</td>
                            <td>#{item.person.email}</td>
                            <td>
                                <ui:repeat var="comp" value="#{item.competences}">
                                    #{comp.competence.name} 
                                #{comp.years_of_experience} years
                                <br/>
                                 </ui:repeat>
                            </td>
                            <td>
                                <ui:repeat var="time" value="#{item.availabilitys}">
                                #{time.from_date} -
                                #{time.to_date}
                                <br/>
                                 </ui:repeat>
                           </td>
                        </tr>
                    </ui:repeat>  
                </table>   
            </div>
             <br></br>
                <label for="SSN"><h3>Applicant</h3></label>  
                <h:inputText id="appname" value="#{recruiterManager.applicantName}" />
                <br></br>
                <h:commandButton id="accept" value="Accept" action="#{recruiterManager.accept()}"/>
                <h:commandButton id="deny" value="Deny" action="#{recruiterManager.deny()}"/>
                </h:form>
                </fieldset>
             <ui:include src="../footer.xhtml"/>
        </div> 
    </h:body>
</html>

